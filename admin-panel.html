<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Panneau Admin Roblox</title>
</head>
<body>
  <h2>Bienvenue sur le panneau admin</h2>
  <p>Ici tu pourras gérer les joueurs (ban, kick, etc.)</p>
  <input type="text" id="playerName" placeholder="Nom du joueur">
<button onclick="sendCommand('ban')">Ban</button>
<button onclick="sendCommand('kick')">Kick</button>
<button onclick="sendCommand('permaban')">Ban Perm</button>


<script>
function sendCommand(action) {
  const player = document.getElementById("playerName").value;
  fetch("https://roblox-api-server-uzun.onrender.com/command", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ action, player })
  })
  .then(res => res.json())
  .then(data => console.log("Réponse API :", data))
  .catch(err => console.error("Erreur API :", err));
}
</script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyC3pbtO8XwD9xWLVDixxKvQXH3aNG4y5XE",
    authDomain: "admin-roblox-panel.firebaseapp.com",
    projectId: "admin-roblox-panel",
    appId: "1:910370028979:web:0a63a7fe4fba3eebd59fc6"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const admins = ["maximeporeye@gmail.com"];

  onAuthStateChanged(auth, user => {
    if (!user || !admins.includes(user.email)) {
      alert("Accès refusé : vous devez vous connecter en tant qu'admin.");
      window.location.href = "index.html";
    }
  });
</script>


</body>
</html>
